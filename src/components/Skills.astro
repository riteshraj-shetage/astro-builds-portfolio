---
import { skills } from '../data/portfolio';

// Devicon mapping for different technologies
// Using devicon.dev icons - format: devicon-{name}-{style}
const deviconMapping: Record<string, string> = {
  // Frontend
  'React': 'devicon-react-original colored',
  'TypeScript': 'devicon-typescript-plain colored',
  'Astro': 'devicon-astro-plain colored',
  'Tailwind CSS': 'devicon-tailwindcss-original colored',
  'Next.js': 'devicon-nextjs-plain colored',
  // Backend
  'Node.js': 'devicon-nodejs-plain colored',
  'Python': 'devicon-python-plain colored',
  'PostgreSQL': 'devicon-postgresql-plain colored',
  'MongoDB': 'devicon-mongodb-plain colored',
  'REST APIs': 'devicon-fastapi-plain colored', // Using fastapi as REST API icon
  // Tools
  'Git': 'devicon-git-plain colored',
  'Docker': 'devicon-docker-plain colored',
  'AWS': 'devicon-amazonwebservices-plain-wordmark colored',
  'CI/CD': 'devicon-githubactions-plain colored',
  'Linux': 'devicon-linux-plain colored',
};

// Default icon class for technologies without specific icons
const defaultIcon = 'devicon-code-plain';
---

<section id="skills" class="section">
  <div class="container-custom">
    <h2 class="text-4xl md:text-5xl font-bold mb-12 text-center">
      Skills & Technologies
    </h2>

    <div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
      {skills.map((category, catIndex) => (
        <div class="card animate-slide-up" style={`animation-delay: ${catIndex * 0.1}s`}>
          <h3 class="text-2xl font-semibold mb-6 flex items-center gap-3 text-gh-accent-fg">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
            </svg>
            {category.category}
          </h3>
          <div class="grid grid-cols-2 gap-4">
            {category.items.map((skill) => (
              <div class="flex flex-col items-center text-center p-3 rounded-lg bg-gh-canvas-subtle border border-gh-border-default hover:border-gh-accent-muted hover:bg-gh-canvas-inset transition-all group">
                <i class={`${deviconMapping[skill.name] || defaultIcon} text-4xl mb-2 group-hover:scale-110 transition-transform`}></i>
                <span class="text-sm font-medium text-gh-fg-default">{skill.name}</span>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>

    <div class="mt-12 text-center">
      <p class="text-gh-fg-muted max-w-2xl mx-auto">
        Continuously learning and exploring new technologies to stay at the forefront of web development.
      </p>
    </div>
  </div>
</section>

<!-- Load Devicon CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />
