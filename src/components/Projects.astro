---
import { projects } from '../data/portfolio';
import Icon from './Icon.astro';
---

<section id="projects" class="section section-alt">
  <div class="container-custom">
    <div class="section-header">
      <h2 class="section-title">Featured Projects</h2>
      <p class="section-subtitle">A showcase of my work and open-source contributions</p>
    </div>

    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6">
      {projects.map((project, index) => (
        <div class="card-highlight animate-fade-in-up" style={`animation-delay: ${index * 0.1}s`}>
          <!-- Project Image with Hover Overlay -->
          {project.image && (
            <div class="relative overflow-hidden rounded-t-lg group -mx-6 -mt-6 mb-4">
              <img 
                src={project.image} 
                alt={project.title}
                class="w-full h-48 object-cover transition-all duration-300 group-hover:scale-105"
              />
              <!-- Background Blur Overlay with Buttons -->
              <div class="absolute inset-0 bg-gh-canvas-default/0 backdrop-blur-0 group-hover:bg-gh-canvas-default/80 group-hover:backdrop-blur-sm transition-all duration-300 flex items-center justify-center gap-3 opacity-0 group-hover:opacity-100">
                {project.github && (
                  <a 
                    href={project.github}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="btn btn-secondary text-sm"
                  >
                    <Icon name="code" size={16} class="w-5 h-5" />
                    Code
                  </a>
                )}
                {project.demo && (
                  <a 
                    href={project.demo}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="btn btn-primary text-sm"
                  >
                    <Icon name="link-external" size={16} class="w-5 h-5" />
                    View
                  </a>
                )}
              </div>
            </div>
          )}

          <div class="space-y-4">
            <!-- Project header -->
            <div class="flex items-start gap-3">
              <Icon name="file-directory" size={24} class="w-6 h-6 text-gh-fg-muted group-hover:text-gh-accent-fg transition-colors flex-shrink-0 mt-0.5" />
              <h3 class="text-xl font-semibold text-gh-fg-default group-hover:text-gh-accent-emphasis transition-colors">
                {project.title}
              </h3>
            </div>

            <!-- Description -->
            <p class="text-gh-fg-muted leading-relaxed text-sm">
              {project.description}
            </p>

            <!-- Technologies -->
            <div class="flex flex-wrap gap-2">
              {project.technologies.map((tech) => (
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gh-accent-subtle text-gh-accent-fg border border-gh-accent-muted hover:bg-gh-accent-emphasis hover:text-white transition-colors">{tech}</span>
              ))}
            </div>
          </div>
        </div>
      ))}
    </div>

    <div class="mt-16 text-center">
      <a href="https://github.com/yourusername?tab=repositories" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">
        <Icon name="repo" size={20} class="w-5 h-5" />
        Browse More
      </a>
    </div>
  </div>
</section>
